<header></header>
<div class="row yearly-accident-totals" ng-class="setTotalsClass()">
  <h4 class="text-muted">Current year to date breakdown:</h4>
  <h2 class="yearly-featured">{{featuredArea}}</h2>
  <h2 class="yearly-total">Total crashes in {{year}}: {{yearly.total_accidents | number}}</h2>
  <h3 class="yearly-total col-md-6"><span class="total-label">Total persons injured in {{year}}:</span> {{yearly.number_of_persons_injured | number}}
    <ul class="detail-list">
      <li class="btn btn-default m-r-20"><div class="glyphicon glyphicon-user">&nbsp;</div> {{yearly.number_of_pedestrians_injured | number}}</li>
      <li class="btn btn-default m-r-20"><div class="maki-icon bicycle">&nbsp;</div> {{yearly.number_of_cyclist_injured | number}}</li>
      <li class="btn btn-default m-r-20"><div class="maki-icon car">&nbsp;</div> {{yearly.number_of_motorist_injured | number}}</li>
    </ul>
  </h3>
  <h3 class="yearly-total col-md-6"><span class="total-label">Total persons killed in {{year}}:</span> {{yearly.number_of_persons_killed | number}}
    <ul class="detail-list">
      <li class="btn btn-default m-r-20"><div class="glyphicon glyphicon-user">&nbsp;</div> {{yearly.number_of_pedestrians_killed | number}}</li>
      <li class="btn btn-default m-r-20"><div class="maki-icon bicycle">&nbsp;</div> {{yearly.number_of_cyclist_killed | number}}</li>
      <li class="btn btn-default m-r-20"><div class="maki-icon car">&nbsp;</div> {{yearly.number_of_motorist_killed | number}}</li>
    </ul>
  </h3>
</div>

<div class="row map-wrapper">
  <crash-popup></crash-popup>
  <div class="map-tooltip">&nbsp;</div>
  <div id="loader"><i class="fa fa-car fa-5x"></i></div>
  <div class="col-sm-3" style="padding-left: 0;">
    <factor-graph size="factorListSize" classer="getFactorClass" dataset="factorsVehicle1" heading="Vehicle 1 Contributing Factors"></factor-graph>
  </div>
  <div class="col-sm-9 map-pane">
    <div>
      <ul class="nav nav-pills map-layers">
        <li class="nav-boroughs"><a href="#" ng-click="showOverlay('borough', $event)">Boroughs</a></li>
        <li><a href="#" ng-click="showOverlay('citycouncil', $event)">City Council</a></li>
        <li><a href="#" ng-click="showOverlay('community', $event)">Community Boards</a></li>
        <li><a href="#" ng-click="showOverlay('neighborhood', $event)">Neighborhoods</a></li>
        <li><a href="#" ng-click="showOverlay('precinct', $event)">Police Precincts</a></li>
        <li><a href="#" ng-click="showOverlay('zipcode', $event)">Zip Codes</a></li>
      </ul>
      <span class="filter-instruction text-muted" ng-class="{hidden: hideInstruction}">Select a {{activeType}} from the map to filter.</span>
    </div>
    <crash-data-view setaccident="showAccidentDetails" defaultzoom="11" classer="getFactorClass" statcalc="calculateYearlyStats" dataset="crashStats.lastAccidents" area="featuredArea"></crash-data-view>
  </div>
</div>
<div class="footer">
  <p><a href="http://www.wolvesintheserverroom.com/" target="_blank" title="wolvesintheserverroom.com" class='text-muted'>wolvesintheserverroom.com</a></p>
</div>
